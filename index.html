<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta name="description" content="Build and level up starships for your Starfinder RPG game. Create ships from scratch or customise sample ships from the Core Rulebook. Build ships in minutes without the hassle of manual calculations.">
	<meta name="viewport" content="initial-scale=1">
	<title>Starfinder RPG Ship Builder</title>
	<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>

	<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
		<symbol id="icon-power" viewBox="0 0 20 20">
			<title>PCU Cost</title>
			<desc>PCU Cost</desc>
			<path d="m 8.425532,0 7.744681,0.019764 -5.021277,7.0440654 H 16 L 4.3404255,20 8.510638,11.06383 H 4 Z"></path>
		</symbol>
		<symbol id="icon-build" viewBox="0 0 20 20">
			<title>BP Cost</title>
			<desc>BP Cost</desc>
			<path d="m 16.077,0.162 -4.1,4.1 c 0,0 0,1.2 1.2,2.5 1.3,1.2 2.5,1.2 2.5,1.2 l 4.1,-4.1 c 0.6,2.3 -0.2,5.1 -1.9,6.8 -2.6,2.6 -5.8,0.3 -6.5,1 -3.6,3.6 -6.5,7.3 -6.7,7.5 -1.1,1.1 -2.9,1.1 -3.9,0.1 -1.1,-1.1 -1,-2.8 0.1,-3.9 0.1,-0.1 4,-3.2 7.6,-6.8 0.7,-0.7 -1.8,-3.8 0.9,-6.5 1.6,-1.7 4.4,-2.5 6.7,-1.9 z M 1.778,16.962 c 0,0.7 0.5,1.2 1.2,1.2 0.7,0 1.2,-0.5 1.2,-1.2 0,-0.7 -0.5,-1.2 -1.2,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 z"></path>
		</symbol>
	</svg>	
	
	<div id="app" class="wrapper">
	
		<div class="sidebar" id="sidebar">
		
			<a href="#" class="sidebar__close">Close Menu</a>
			
			<h3>{{ shipName }} (Tier&nbsp;{{ tier.name }})</h3>

			<nav class="contents">
				<ul class="contents__0">
					<li><a href="#input">Input</a></li>
					<li><a href="#concept">Concept</a></li>
					<li><a href="#tier">Tier</a></li>
					<li><a href="#frame">Frame</a></li>
					<li><a href="#powerCore">Power Core</a></li>
					<li><a href="#thrusters">Thrusters</a></li>
					<li><a href="#otherSystems">Other Systems</a></li>
					<ul class="contents__1">
						<li><a href="#armour">Armour</a></li>
						<li><a href="#computer">Computer</a></li>
						<li><a href="#crewQuarters">Crew Quarters</a></li>
						<li><a href="#defensiveCountermeasures">Defensive Countermeasures</a></li>
						<li><a href="#driftEngine">Drift Engine</a></li>
						<li v-if="frame.expansionBays > 0"><a href="#expansionBays">Expansion Bays</a></li>
						<li><a href="#security">Security</a></li>
						<li><a href="#sensors">Sensors</a></li>
						<li><a href="#shields">Shields</a></li>
						<li><a href="#weapons">Weapons</a></li>
					</ul>
					<li><a href="#crew">Crew</a></li>
					<li><a href="#output">Output</a></li>
				</ul>

			</nav>

			<div class="cost">
				<p class="cost__item">
					<span class="cost__name">Build Points</span>
					<span class="cost__values">
						<svg class="icon"><use xlink:href="#icon-build" /></svg> 
						<span
							class="cost__current"
							v-bind:class="{ 'cost__current--danger': isBpCostOverBudget }">{{ totalBpCost }}</span> /
							<span class="cost__budget">{{ tier.bpBudget }}</span>
					</span>
				</p>
				<p class="cost__item">
					<span class="cost__name">Power Core Units</span>
					<span class="cost__values">
						<svg class="icon"><use xlink:href="#icon-power" /></svg> 
						<span class="cost__budget"
							title="Total PCU cost, including both essential and non-essential systems">
							{{ totalPcuCost.essential + totalPcuCost.nonEssential }}</span> /
						<span class="cost__current"
							v-bind:class="{ 'cost__current--danger': isPcuCostOverBudget }"
							title="Total PCU cost of essential systems only (weapons, shields, thrusters and defensive countermeasures)">
							{{ totalPcuCost.essential }}</span> /
							<span class="cost__budget">{{ pcuBudget }}</span>
					</span>
				</p>
			</div>

		</div><!-- #sidebar -->
		
		
		

		<div class="main">

			<a href="#sidebar">Sidebar</a>

			<header class="app-header">

				<h1>Starfinder RPG Ship Builder</h1>

			</header>


			
			
			
			
			
			
			<!--
			
				INPUT
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="input">Input</h2>
				</header>
				
				<div class="box__select">
					<div class="form-group">
						<label for="sampleShipSelect">Select a sample ship</label>
						<select class="form-control" id="sampleShipSelect" v-on:change="inputSampleShipParams">
							<option value="none">None</option>
							<option v-for="option in selectOptions.sampleShip" :value="option.id">{{ option.name }} (Tier {{ option.tier }})</option>
						</select>
					</div>
				</div>
				
				<div class="box__select">
					<div class="form-group">
						<label for="">Paste in JSON from a previous design</label>
						<textarea 
							class="form-control"
							v-model="json"
							v-on:change="convertJsonInput"
							id="jsonData"
							cols="30" rows="5"></textarea>
					</div>
					<div class="form-group">
						<button class="btn btn-lg btn-primary" v-on:click="clearAll">Clear All</button>
					</div>
				</div>
				
			</div>


			
			
			
			
			
			
			<!--
			
				CONCEPT
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="concept">Step 0: Concept</h2>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="shipName">Ship Name or Class</label>
						<input type="text" id="shipName" v-model="params.shipName" class="form-control input-lg">
					</div>
					<div class="form-group">
						<label for="shipConcept">Concept</label>
						<textarea id="shipConcept" cols="30" rows="3" v-model="params.shipConcept" class="form-control"></textarea>
					</div>
					<div class="checkbox">
						<label>
							<input type="checkbox" id="isUseStrictRules" v-model="params.isUseStrictRules">
							Use strict ship building rules from <em>Starfinder Core Rules</em>?
						</label>
					</div>
					<div class="checkbox">
						<label>
							<input type="checkbox" id="isSetDefaultCrewSkillValues" v-model="params.isSetDefaultCrewSkillValues">
							Automatically update crew skill ranks when levelling up?
						</label>
					</div>
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				TIER
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="tier">Step 1: Tier</h2>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="tierSelect">Tier</label>
						<select class="form-control" id="tierSelect" v-model="params.tierId"
							v-on:change="setDefaultCrewSkillValues">
							<option v-for="option in selectOptions.tier" :value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Build Point Budget</strong>: {{ tier.bpBudget }};
					<strong>HP Increase</strong>: {{ tier.hpIncrease }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				FRAME
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="frame">Step 2: Frame</h2>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="frameSelect">Frame</label>
						<select name="frame" id="frameSelect" class="form-control" v-model="params.frameId" @change="updateFrame">
							<option v-for="option in selectOptions.frame" :value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Size</strong> {{ frame.size }};
					<strong>Maneuverability</strong> {{ frame.maneuverability }};
					<strong>HP</strong> {{ hp }};
					<strong>DT</strong> {{ frame.dt }};
					<strong>CT</strong> {{ criticalThreshold }};
					<strong>Expansion Bays</strong> {{ frame.expansionBays }};
					<strong>Minimum Crew</strong> {{ frame.minCrew }};
					<strong>Maximum Crew</strong> {{ frame.maxCrew }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ frame.bpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				POWER CORE
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="powerCore">Step 3: Power Core</h2>
				</header>
				<div class="box__select">
					<div class="form-group" v-for="i in countPowerCoreHousings">
						<label :for="'powerCoreSelect_' + i">Power Core {{ i }}</label>
						<select :id="'powerCoreSelect_' + i" class="form-control" v-model="params.powerCoreIds[i-1]">
							<template v-for="option in selectOptions.powerCore"
								v-if="(!params.isUseStrictRules) || (option.sizes.indexOf(frame.size) > -1)">
								<option :value="option.id">{{ option.name }} (PCU {{ option.pcuBudget }})</option>
							</template>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>PCU Budget</strong> {{ pcuBudget }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ powerCoresBpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				THRUSTERS
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="thrusters">Step 4: Thrusters</h2>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="thrustersSelect">Thrusters</label>
						<select id="thrustersSelect" class="form-control" v-model="params.thrustersId">
							<template v-for="option in selectOptions.thrusters"
								v-if="(!params.isUseStrictRules) || (option.size.indexOf(frame.size) > -1)">
								<option :value="option.id">{{ option.name }}</option>
							</template>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Speed (in hexes)</strong> {{ thrusters.speed }};
					<strong>Piloting Modifier</strong> {{ getPrefixedModifier(thrusters.pilotingModifier) }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-power" /></svg> {{ thrusters.pcuCost }}
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ thrusters.bpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				OTHER SYSTEMS / ARMOUR
				
			-->
			
			<h2 id="otherSystems">Step 5: Other Systems</h2>

			<div class="box">
				<header class="box__header">
					<h3 id="armour">Armour</h3>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="armourSelect">Armour</label>
						<select id="armourSelect" class="form-control" v-model="params.armourId">
							<option v-for="option in selectOptions.armour" :value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Bonus to AC</strong> {{ getPrefixedModifier(armour.bonusToAc) }};
					<strong>Special</strong> {{ armourSpecial }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ armourBpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				COMPUTER
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h3 id="computer">Computer</h3>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="computerSelect">Computer</label>
						<select name="computer" id="computerSelect" class="form-control"  v-model="params.computerId">
							<option v-for="option in selectOptions.computer" :value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Skill Bonus</strong> {{ getPrefixedModifier(computer.bonus) }};
					<strong>Nodes</strong> {{ computer.nodes }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-power" /></svg> {{ computer.pcuCost }}
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ computer.bpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				CREW QUARTERS
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h3 id="crewQuarters">Crew Quarters</h3>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="crewQuartersSelect">Crew Quarters</label>
						<select id="crewQuartersSelect" class="form-control" v-model="params.crewQuartersId"
							:disabled="frame.size == 'Tiny'">
							<option
								v-for="option in selectOptions.crewQuarters"
								v-if="(!params.isUseStrictRules) || ( (sizeCategory.multiplier == 1 && option.isTinyOnly) || (sizeCategory.multiplier > 1 && !option.isTinyOnly) )"
								:value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ crewQuarters.bpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				DEFENSIVE COUNTERMEASURES
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h3 id="defensiveCountermeasures">Defensive Countermeasures</h3>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="defensiveCountermeasuresSelect">Defensive Countermeasures</label>
						<select v-model="params.defensiveCountermeasuresId" id="defensiveCountermeasuresSelect" class="form-control">
							<option v-for="option in selectOptions.defensiveCountermeasures" :value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Bonus To TL</strong> {{ getPrefixedModifier(defensiveCountermeasures.defCMBonusToTl) }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-power" /></svg> {{ defensiveCountermeasures.pcuCost }}
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ defensiveCountermeasures.bpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				DRIFT ENGINE
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h3 id="driftEngine">Drift Engine</h3>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="driftEngineSelect">Drift Engine</label>
						<select v-model="params.driftEngineId" id="driftEngineSelect" class="form-control">
							<template v-for="option in selectOptions.driftEngine"
								v-if="(!params.isUseStrictRules) || ( (pcuBudget >= option.minPcu) && (sizeCategory.multiplier <= option.maxSize) )">
								<option :value="option.id">{{ option.name }}</option>
							</template>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Engine Rating</strong> {{ driftEngine.engineRating }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ driftEngineBpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				EXPANSION BAYS
				
			-->
			
			<div class="box" v-if="frame.expansionBays > 0">
				<header class="box__header">
					<h3 id="expansionBays">Expansion Bays</h3>
				</header>
				<div class="cost__item">
					<span class="cost__name">Slots used</span>
					<span class="cost__values">
						<span class="cost__current"
							v-bind:class="{ 'cost__current--danger': isExpansionBaysCountOverBudget }">{{ expansionBaysCountUsed }}</span> /
							<span class="cost__budget">{{ this.frame.expansionBays }}</span>
					</span>
				</div>
				<ul class="box__select">
					<template v-for="(expansionBay, i) in expansionBays">
						<li>
							<div class="form-group">
								<label :for="'expansionBaySelect'+i">Expansion Bay {{ i+1 }}</label>
								<select v-model="params.expansionBayIds[i]" :id="'expansionBaySelect'+i" class="form-control">
									<option
										v-for="option in selectOptions.expansionBay"
										v-if="(!params.isUseStrictRules) || (option.sizes.indexOf(sizeCategory.id) !== -1 )"
										:value="option.id">{{ option.name + ((option.numBays > 1) ? ' (' + option.numBays + ' Slots)' : '') }}</option>
								</select>
							</div>
							<div class="box__cost--list">
								<svg class="icon"><use xlink:href="#icon-power" /></svg> {{ expansionBay.pcuCost }}
								<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ expansionBay.bpCost }}
							</div>
						</li>
					</template>
				</ul>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-power" /></svg> {{ expansionBaysTotalPcuCost }}
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ expansionBaysTotalBpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				SECURITY
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h3 id="security">Security</h3>
				</header>
				<div class="box__list-item">
					<div class="box__select">
						<div class="checkbox">
							<label for="hasAntiHackingSystems">
								<input type="checkbox" v-model="params.hasAntiHackingSystems" id="hasAntiHackingSystems">
								Anti-Hacking Systems
							</label>
						</div>
					</div>
					<div class="box__cost--list">
						<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ antiHackingSystemsBpCost }}
					</div>
				</div>
				<div class="box__list-item" v-if="sizeCategory.multiplier <= 3">
					<div class="box__select">
						<div class="form-group">
							<label for="antiPersonnelWeaponSelect">Anti-Personnel Weapon</label>
							<select v-model="params.antiPersonnelWeaponId" id="antiPersonnelWeaponSelect" class="form-control">
								<template v-for="option in selectOptions.personalWeapon"
									v-if="(option.level <= tier.id)">
									<option :value="option.id">{{ option.name }} ({{ option.damage}})</option>
								</template>
							</select>
						</div>
					</div>
					<div class="box__cost--list">
						<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ antiPersonnelWeaponBpCost }}
					</div>
				</div>
				<div class="box__list-item">
					<div class="box__select">
						<div class="checkbox">
							<label for="hasBiometricLocks">
								<input type="checkbox" v-model="params.hasBiometricLocks" id="hasBiometricLocks">
								Biometric Locks
							</label>
						</div>
					</div>
					<div class="box__cost--list">
						<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ biometricLocksBpCost }}
					</div>
				</div>
				<div class="box__list-item">
					<div class="box__select">
						<div class="form-group">
							<label for="computerCountermeasuresSelect">Computer Countermeasures</label>
							<select v-model="params.computerCountermeasuresId" id="computerCountermeasuresSelect" class="form-control">
								<option v-for="option in selectOptions.computerCountermeasures" :value="option.id">{{ option.name }}</option>
							</select>
						</div>
					</div>
					<div class="box__cost--list">
						<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ computerCountermeasuresBpCost }}
					</div>
				</div>
				<div class="box__list-item">
					<div class="box__select">
						<div class="checkbox">
							<label for="hasSelfDestructSystem">
								<input type="checkbox" v-model="params.hasSelfDestructSystem" id="hasSelfDestructSystem">
								Self-Destruct System
							</label>
						</div>
					</div>
					<div class="box__cost--list">
						<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ selfDestructSystemBpCost }}
					</div>
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ securityTotalBpCost }}
				</div>
			</div><!-- box -->


			
			
			
			
			
			
			<!--
			
				SENSORS
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h3 id="sensors">Sensors</h3>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="sensorsSelect">Sensors</label>
						<select v-model="params.sensorsId" id="sensorsSelect" class="form-control">
							<option v-for="option in selectOptions.sensors" :value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Range</strong> {{ sensors.range }};
					<strong>Modifier</strong> {{ getPrefixedModifier(sensors.modifier) }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ sensors.bpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				SHIELDS
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h3 id="shields">Shields</h3>
				</header>
				<div class="box__select">
					<div class="form-group">
						<label for="shieldsSelect">Shields</label>
						<select v-model="params.shieldsId" id="shieldsSelect" class="form-control">
							<option v-for="option in selectOptions.shields" :value="option.id">{{ option.name }}</option>
						</select>
					</div>
				</div>
				<div class="box__info">
					<strong>Total SP</strong> {{ shields.totalSp }};
					<strong>Regen.</strong> {{ shields.regen }}
				</div>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-power" /></svg> {{ shields.pcuCost }}
					<svg class="icon"><use xlink:href="#icon-build" /></svg> {{ shields.bpCost }}
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				WEAPON MOUNTS
				
			-->
			
			<h3 id="weapons">Weapons</h3>
			<template v-for="(weaponList, position) in weaponMounts">
			
				<header class="box__header">
					<h4 id="weapons_test">{{ position.toTitleCase() + (position == "turret" ? "" : " Arc" ) }}</h4>
				</header>
				
				
				<template v-for="(weaponMount, i) in weaponList">
					
					<div class="box">
				
						<div class="box__header--btns">
							<h4>Weapon Mount {{ i+1 }} ({{ weaponMount.weight }})</h4>
							<div>
								<button class="btn btn-primary btn-sm"
									:disabled="!weaponMount.canBeUpgraded"
									@click="upgradeWeaponMount(position, i)">Upgrade Mount</button>
								<button class="btn btn-primary btn-sm"
									:disabled="!weaponMount.canBeDowngraded"
									@click="downgradeWeaponMount(position, i)">Downgrade Mount</button>
								<button class="btn btn-danger btn-sm"
									:disabled="weaponMount.isFromTemplate"
									@click="destroyWeaponMount(position, i)">Delete Mount</button>
							</div>
						</div>
						
						
						<div class="box__select">
							<div class="form-group">
								<label :for="'shipWeaponSelect_' + i">Weapon
								</label>
								<select
									v-model="params.weaponMounts[position][i].weaponId"
									:id="'shipWeaponSelect_' + i"
									class="form-control">
									<option value="none">None</option>
									<template v-for="option in selectOptions.shipWeapon"
										v-if="(!params.isUseStrictRules) || (option.weight == weaponMount.weight)">
										<option :value="option.id">{{ option.name }} ({{ option.damage }}, PCU {{ option.pcuCost}}, BP {{ option.bpCost }})</option>
									</template>
								</select>
							</div><!-- .form-group -->
						</div><!-- .box__select -->

						<div class="box__info">
							<strong>Range</strong> {{ weaponMount.weapon.range }};
							<strong>Speed</strong> {{ weaponMount.weapon.speed }};
							<strong>Damage</strong> {{ weaponMount.weapon.damage }};
							<strong>Special Properties</strong> {{ weaponMount.weapon.specialProperties }}
						</div>

						<div class="box__cost">
							<svg class="icon"><use xlink:href="#icon-power" /></svg>
							{{ weaponMount.weapon.pcuCost }}
							<svg class="icon"><use xlink:href="#icon-build" /></svg>
							{{ weaponMount.weapon.bpCost + weaponMount.mountBpCost }}
							(weapon {{ weaponMount.weapon.bpCost }} +
							mount {{ weaponMount.mountBpCost }})
						</div>
						
					</div><!-- .box -->
				
				</template>
					
				
				<div class="box__under-box align-right">
					<button @click="createWeaponMount(position)"
						:disabled="!canWeaponMountBeCreated(position)"
						class="btn btn-primary">Create New {{ position.toTitleCase() }} Mount</button>
				</div>
				
				
			</template>
			
			<div class="box">
				<header class="box__header">
					<h3 id="weapons">Weapons Summary</h3>
				</header>
				<div class="box__cost">
					<svg class="icon"><use xlink:href="#icon-power" /></svg>
					{{ weaponsTotalCosts.weaponsPcu }}
					<svg class="icon"><use xlink:href="#icon-build" /></svg>
					{{ weaponsTotalCosts.weaponsBp + weaponsTotalCosts.weaponMountsBp }}
					(weapons {{ weaponsTotalCosts.weaponsBp }} +
					mounts {{ weaponsTotalCosts.weaponMountsBp }})
				</div>
			</div>


			
			
			
			
			
			
			<!--
			
				CREW
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="crew">Step 6: Crew</h2>
				</header>
				<div class="checkbox">
					<label>
						<input type="checkbox" id="hasCrew" v-model="params.hasCrew">
						Include crew stats?
					</label>
				</div>
				<div class="box__select" v-if="params.hasCrew">
				
					<div class="cost__item">
						<span class="cost__name">Complement</span>
						<span class="cost__values">
							<span class="cost__current"
								v-bind:class="{ 'cost__current--danger': !isComplementValid }">{{ complement }}</span> 
								<span class="cost__budget">({{ this.frame.minCrew }}&ndash;{{ this.frame.maxCrew }})</span>
						</span>
					</div>
					
					<template v-for="role in selectOptions.role">
						<h3 class="crew__header">{{ role.name }}</h3>
						<div class="checkbox">
							<label>
								<input type="checkbox" v-model="params.crewSkills[role.id].hasRole"> {{ role.hasRoleQuestion }}
							</label>
						</div>
						<div v-if="params.crewSkills[role.id].hasRole" class="crew__role form-inline">
							<div class="crew__officers"
								v-if="typeof params.crewSkills[role.id].countOfficers !== 'undefined'">
								<div class="crew__role__countOfficers form-group"
									v-if="typeof params.crewSkills[role.id].countOfficers !== 'undefined'">
									<label :for="role.id + '_countOfficers'">Number of officers</label>
									<br>
									<input type="number" :id="role.id + '_countOfficers'"
										v-model="params.crewSkills[role.id].countOfficers"
										class="form-control">
								</div>
								<br><br>
								<div class="crew__role__countOfficerCrew form-group"
									v-if="typeof params.crewSkills[role.id].countOfficerCrew !== 'undefined'">
									<label :for="role.id + '_countOfficerCrew'">Size of crew in each team</label>
									<br>
									<input type="number" :id="role.id + '_countOfficerCrew'"
										v-model="params.crewSkills[role.id].countOfficerCrew"
										class="form-control">
								</div>
							</div> <!-- .crew__officers -->
							<div class="crew__role__header">
								<span class="crew__skill__label">Level</span>
								<span class="crew__skill__label">Skill</span>
								<span class="crew__skill__ranks">Ranks</span>
								<span class="crew__skill__mod">+ Mod.</span>
								<span class="crew__skill__ship">+ Ship Mod.</span>
								<span class="crew__skill__total">= Total</span>
							</div> <!-- .crew__role__header -->
							<template v-for="skillId in role.skills">
								<div class="crew__role__skills">
									<span class="crew__skill__label">
										<select class="form-control" v-model="params.crewSkills[role.id].skills[skillId].level">
											<option value="none">None</option>
											<option value="good">Good</option>
											<option value="master">Master</option>
										</select>
									</span>
									<span class="crew__skill__label">{{ getItemById('skill', skillId).name }}</span>
									<!-- TODO: default skill buttons -->
									<span class="crew__skill__ranks">
										<span v-if="getItemById('skill', skillId).hasRanks">
											<input type="number" class="form-control"
												v-model="params.crewSkills[role.id].skills[skillId].ranks"> ranks
										</span>
									</span>
									<span class="crew__skill__mod">
										+<input type="number" class="form-control"
											v-model="params.crewSkills[role.id].skills[skillId].modifier">
									</span>
									<span class="crew__skill__ship">
										<span v-if="skillId == 'computers'">{{ getPrefixedModifier(skillModifierComputers) }}</span>
										<span v-else-if="skillId == 'piloting'">{{ getPrefixedModifier(skillModifierPiloting) }}</span>
										<span v-else>&ndash;</span>
									</span>
									<span class="crew__skill__total">{{ getPrefixedModifier(skillTotals[role.id][skillId]) }}</span>
								</div><!-- .crew__role__skills -->
							</template>
						</div> <!-- .crew__role -->
					</template>
				</div><!-- .box__select -->
			</div> <!-- box -->


			
			
			
			
			
			
			<!--
			
				OUTPUT
				
			-->
			
			<div class="box">
				<header class="box__header">
					<h2 id="output">Output</h2>
					<!-- <button id="copyOutputBtn" class="btn btn-primary" data-clipboard-target="#outputText">Copy summary to clipboard</button> -->
				</header>
				<div class="box__info box__info--output">
					<div id="outputText">
						<h3>{{ shipName }} (Tier {{ tier.name }})</h3>
						<p>{{ frame.size }} {{ frame.name.toLowerCase() }}</p>
						<p><strong>Speed</strong> {{ thrusters.speed }}; <strong>Maneuverability</strong> {{ frame.maneuverability }} (turn {{ maneuverabilityRating.turn }})<span v-if="driftEngine.engineRating > 0">; <strong>Drift</strong> {{ driftEngine.engineRating }}</span></p>
						<p><strong>AC</strong> {{ armourClass }}; <strong>TL</strong> {{ targetLock }}</p>
						<p><strong>HP</strong> {{ hp }}; <strong>DT</strong> {{ frame.dt }}; <strong>CT</strong> {{ criticalThreshold }}</p>
						<p><strong>Shields</strong> {{ shields.name }}
							(forward {{ shieldsByPosition.forward }},
							port {{ shieldsByPosition.port }},
							starboard {{ shieldsByPosition.starboard }},
							aft {{ shieldsByPosition.aft }})</p>
						<p v-for="(weaponDescription, position) in weaponDescriptions">
							<strong>Attack ({{ position.toTitleCase() }})</strong>
							{{ weaponDescription }}
						</p>
						<p>
							<strong>Power Core(s)</strong> {{ powerCoreDescription }};
							<strong>Drift Engine</strong> {{ driftEngine.name }};
							<strong>Systems</strong> {{ systemsDescription }}<span v-if="hasSecurity">; 
							<strong>Security</strong> {{ securityDescription }}</span><span v-if="expansionBays.length > 0">; 
							<strong>Expansion Bays</strong> {{ expansionBaysDescription }}</span>
						</p>
						<p><strong>Modifiers</strong> {{ modifiersDescription }}<span v-if="params.hasCrew">; <strong>Complement</strong> {{ complement }}</span></p>


						<div v-if="params.hasCrew">
						<h3>Crew</h3>
							<p v-for="(roleObj, role) in params.crewSkills" v-if="roleObj.hasRole"><strong>{{ roleDescription[role] }}</strong> {{ crewDescriptions[role] }}</p>
						</div>


						<h3>Concept</h3>
						<p>{{ params.shipConcept }}</p>
					</div> <!-- #outputText -->
					
					<h3>JSON</h3>
					<button id="copyJsonBtn" class="btn btn-primary">Copy JSON to clipboard</button>
					<p>Come back and work on your starship at a later date: copy and paste the JSON in the box below into a text file. When you're ready to resume, copy and paste it back in to the JSON box in the &lsquo;Input&rsquo; section at the top of the page.</p>
					<textarea id="outputJson" cols="30" rows="10" class="form-control">{{ jsonParams }}</textarea>
					
				</div>
			</div>


			<footer>
				<ul>
					<li>By <a href="http://www.jamesturneronline.net">James Turner</a>, Sep 2017</li>
					<li><a href="http://paizo.com/starfinder/">Starfinder RPG</a> &copy; Paizo Inc, 2017</li>
					<li>Open Game Licence</li>
					<li>Made with <a href="https://vuejs.org/">Vue.js</a></li>
					<li>Icons by the <a href="https://thenounproject.com/">Noun Project</a></li>
					<li>Found a bug? Please raise an issue on Github</li>
				</ul>
			</footer>
			
	
		</div> <!-- #app -->
		
	</div><!-- .wrapper -->
	
	<script src="https://unpkg.com/vue"></script>
	<!-- <script src="vendor/vue/vue.min.js"></script> -->
	<script src="vendor/clipboard/dist/clipboard.min.js"></script>
	<script src="js/script.js"></script>
</body>
</html>